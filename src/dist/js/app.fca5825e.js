(function(e){function t(t){for(var s,a,r=t[0],o=t[1],l=t[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,r=1;r<n.length;r++){var o=n[r];0!==c[o]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},c={app:0},i=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/nearstmas/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"126f":function(e,t,n){},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("5530"),c=n("1da1"),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("7a23")),a=Object(i["f"])("div",{class:"glass-ball rotate"},null,-1),r=Object(i["f"])("div",{class:"top-light"},null,-1),o={class:"page-content"},l={class:"fullpage fullpage-wrapper"},u={id:"home",class:"section fp-section fp-table active fp-completely"},d={class:"fp-tableCell"},f=Object(i["f"])("h1",{class:"snow-text"},"NEAR'stmas Coming Soon",-1);function b(e,t,n,s,c,b){var g=Object(i["k"])("SignIn"),j=Object(i["k"])("NftList");return Object(i["i"])(),Object(i["e"])(i["a"],null,[a,r,Object(i["f"])("div",o,[Object(i["f"])("div",l,[Object(i["f"])("div",u,[Object(i["f"])("div",d,[f,b.user?Object(i["d"])("",!0):(Object(i["i"])(),Object(i["c"])(g,{key:0})),b.user?(Object(i["i"])(),Object(i["c"])(j,{key:1})):Object(i["d"])("",!0)])])])])],64)}var g=Object(i["f"])("h2",null,"Ho ho ho",-1),j=Object(i["f"])("h3",null,[Object(i["f"])("br"),Object(i["g"])("SignIn to write your letter, select gift or ask Santa Claus! ")],-1);function O(e,t,n,s,c,a){return Object(i["i"])(),Object(i["e"])("div",null,[g,j,Object(i["f"])("button",{onClick:t[0]||(t[0]=function(e){return a.signIn()}),class:"button"},"Sign In")])}var p={name:"SignIn",methods:{signIn:function(){window.wallet.requestSignIn(window.nearConfig.contractName,"NEARstmas")}}},h=(n("9841"),n("6b0d")),y=n.n(h);const m=y()(p,[["render",O]]);var w=m,v={class:"main-window"},k=Object(i["g"])("Hello my little "),M={style:{color:"#fff9cd"}},S=Object(i["f"])("hr",null,null,-1),x=["disabled"],C=["disabled"],L=["disabled"],R={key:0,class:"block"},G=Object(i["f"])("p",null,"You can send so many messages as you wish:",-1),U=Object(i["f"])("br",null,null,-1),_={class:"relative"},I={class:"vip"},P=Object(i["g"])(" VIP Letter (0.1 NEAR) "),T={key:0,src:"/nearstmas/img/christmas-loading.gif",alt:"",class:"message-loader",width:"200"},A=Object(i["f"])("br",null,null,-1),N=Object(i["f"])("hr",null,null,-1),E=Object(i["f"])("h5",null,"Your Messages:",-1),H={key:1,class:"list-messages"},V={key:0},D={class:"time"},Y={key:1},B=Object(i["f"])("i",null,"*You don't send messages to Santa. Don't be shy, just write something!",-1),z=[B],K={key:2},W=Object(i["f"])("img",{src:"/nearstmas/img/christmas-loading.gif",alt:"",class:"messages-list-loader",width:"200"},null,-1),q=[W],F={key:1,class:"block"},J=Object(i["f"])("p",null,"You can select only one gift. Also you can change your gift and see gifts history:",-1),X=Object(i["f"])("br",null,null,-1),Q={class:"gift-list"},Z=["onClick"],$=["src"],ee=Object(i["f"])("hr",null,null,-1),te=Object(i["f"])("h3",null,"Gifts History:",-1),ne={key:0},se=["src"],ce={key:0},ie={key:1},ae=Object(i["f"])("img",{src:"/nearstmas/img/christmas-loading.gif",alt:"",class:"messages-list-loader",width:"200"},null,-1),re=[ae],oe={key:2,class:"block"},le=Object(i["f"])("br",null,null,-1),ue=["disabled"],de=Object(i["f"])("hr",null,null,-1),fe={key:0},be={key:1,src:"/nearstmas/img/christmas-loading.gif",alt:"",class:"messages-list-loader",width:"200"};function ge(e,t,n,s,c,a){return Object(i["i"])(),Object(i["e"])(i["a"],null,[Object(i["f"])("div",v,[Object(i["f"])("h3",null,[k,Object(i["f"])("span",M,Object(i["l"])(a.user.accountId),1)]),S,Object(i["f"])("button",{class:"inner",onClick:t[0]||(t[0]=function(e){return c.selected=1}),disabled:1===c.selected},"1. Write a letter to Santa Claus",8,x),Object(i["f"])("button",{class:"inner",onClick:t[1]||(t[1]=function(e){return c.selected=2}),disabled:2===c.selected},"2. Choice your Gift",8,C),Object(i["f"])("button",{class:"inner",onClick:t[2]||(t[2]=function(e){return c.selected=3}),disabled:3===c.selected},"3. Santa Say...",8,L),1===c.selected?(Object(i["i"])(),Object(i["e"])("div",R,[G,U,Object(i["o"])(Object(i["f"])("textarea",{placeholder:"Ask / Wish / Dream",maxlength:"500","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.messageText=e})},null,512),[[i["n"],c.messageText]]),Object(i["f"])("div",_,[Object(i["f"])("label",I,[Object(i["o"])(Object(i["f"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.vipMessage=e}),style:{"-webkit-appearance":"checkbox"}},null,512),[[i["m"],c.vipMessage]]),P]),c.sendLoader?Object(i["d"])("",!0):(Object(i["i"])(),Object(i["e"])("button",{key:0,class:"action",onClick:t[5]||(t[5]=function(e){return a.sendMessage()})},"Send Message"))]),c.sendLoader?(Object(i["i"])(),Object(i["e"])("img",T)):Object(i["d"])("",!0),A,N,E,c.messagesReady?(Object(i["i"])(),Object(i["e"])("div",H,[c.messages.length?(Object(i["i"])(),Object(i["e"])("div",V,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(c.messages,(function(e){return Object(i["i"])(),Object(i["e"])("div",{key:e.text,class:Object(i["h"])(["one-message",{isVip:e.isVip}])},[Object(i["f"])("p",null,Object(i["l"])(e.text),1),Object(i["f"])("span",D,Object(i["l"])(a.dateTime(e.timestamp)),1)],2)})),128))])):Object(i["d"])("",!0),c.messages.length?Object(i["d"])("",!0):(Object(i["i"])(),Object(i["e"])("div",Y,z))])):Object(i["d"])("",!0),c.messagesReady?Object(i["d"])("",!0):(Object(i["i"])(),Object(i["e"])("div",K,q))])):Object(i["d"])("",!0),2===c.selected?(Object(i["i"])(),Object(i["e"])("div",F,[J,X,Object(i["f"])("div",Q,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(c.giftList,(function(e){return Object(i["i"])(),Object(i["e"])("div",{class:Object(i["h"])(["one-gift",{selected:c.selectedGift===e.id}]),key:e.id,onClick:function(t){return a.selectGift(e.id)}},[Object(i["f"])("img",{src:e.url},null,8,$)],10,Z)})),128))]),ee,te,c.giftsReady?(Object(i["i"])(),Object(i["e"])("div",ne,[(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(c.giftHistory,(function(e){return Object(i["i"])(),Object(i["e"])("span",{key:e,class:"small-gift"},[Object(i["f"])("img",{src:a.getUrl(e),width:"50",alt:""},null,8,se)])})),128)),c.giftHistory.length?Object(i["d"])("",!0):(Object(i["i"])(),Object(i["e"])("div",ce," *Your gifts history is empty, select your gift! "))])):Object(i["d"])("",!0),c.giftsReady?Object(i["d"])("",!0):(Object(i["i"])(),Object(i["e"])("div",ie,re))])):Object(i["d"])("",!0),3===c.selected?(Object(i["i"])(),Object(i["e"])("div",oe,[le,Object(i["f"])("button",{class:"action",onClick:t[6]||(t[6]=function(){return a.santaSay&&a.santaSay.apply(a,arguments)}),disabled:c.isPing},"Ping Santa...",8,ue),de,c.santaSayList.length?(Object(i["i"])(),Object(i["e"])("h4",fe,"Random Santa stories for you:")):Object(i["d"])("",!0),(Object(i["i"])(!0),Object(i["e"])(i["a"],null,Object(i["j"])(c.santaSayList,(function(e){return Object(i["i"])(),Object(i["e"])("div",{key:e,class:"one-joke"},Object(i["l"])(e),1)})),128)),c.isPing?(Object(i["i"])(),Object(i["e"])("img",be)):Object(i["d"])("",!0)])):Object(i["d"])("",!0)]),a.user?(Object(i["i"])(),Object(i["e"])("button",{key:0,class:"sign-out button",onClick:t[7]||(t[7]=function(e){return a.signOut()}),style:{background:"transparent",border:"3px solid red"}},"LEAVE SANTA")):Object(i["d"])("",!0)],64)}n("ac1f"),n("5319"),n("d3b7"),n("159b"),n("b64b");var je={name:"NftList",computed:{user:function(){return window.currentUser}},data:function(){return{selected:1,messageText:"",sendLoader:!1,messagesReady:!1,giftsReady:!1,vipMessage:!1,isPing:!1,messages:[],giftHistory:[],santaSayList:[],selectedGift:0,giftList:[{id:1,url:"https://www.gannett-cdn.com/presto/2019/10/11/USAT/99321768-a7c2-45c9-a5fe-63e5eb185b7a-Best_Gifts_for_Kids_of_2019-Kiddzery_Play_Tent_Ball_Pit.png?crop=473,355,x79,y0&quality=50&width=640"},{id:2,url:"https://hips.hearstapps.com/vader-prod.s3.amazonaws.com/1635525612-gifts-for-kids-lego-vidiyo-1635525533.jpg?crop=1xw:1xh;center,top&resize=480:*"},{id:3,url:"https://5.imimg.com/data5/VN/YI/FX/SELLER-88799671/birthday-gift-for-kids-500x500.jpg"},{id:4,url:"https://i.pinimg.com/originals/5f/b4/ef/5fb4ef6c7aa2621d66cda58cce5526f4.jpg"}]}},created:function(){this.loadMyMessages(),this.loadMyGift(),this.loadMyGiftHistory()},methods:{signOut:function(){window.wallet.signOut(),window.location.replace(window.location.origin+window.location.pathname)},getUrl:function(e){for(var t="",n=0;n<this.giftList.length;n++)this.giftList[n].id==e&&(t=this.giftList[n].url);return t},selectGift:function(e){var t=this;this.selectedGift=e,this.giftsReady=!1,window.contract.addGift({id:e}).then((function(){t.loadMyGiftHistory()}))},loadMyGiftHistory:function(){var e=this;this.giftsReady=!1,window.contract.myGiftHistory().then((function(t){e.giftHistory=[],Object.keys(t).forEach((function(n){e.giftHistory.push(t[n])})),e.giftsReady=!0}))},loadMyGift:function(){var e=this;window.contract.myGift().then((function(t){e.selectedGift=t}))},sendMessage:function(){var e=this;if(this.sendLoader=!0,this.messageText.length<2)alert("Please add some text!");else if(this.vipMessage){var t=this.vipMessage?"100000000000000000000000":null,n="300000000000000";window.contract.addMessage({text:this.messageText},n,t).then((function(){e.messageText="",e.sendLoader=!1,e.loadMyMessages()}))}else window.contract.addMessage({text:this.messageText}).then((function(){e.messageText="",e.sendLoader=!1,e.loadMyMessages()}))},dateTime:function(e){var t=new Date(e/1e6),n=t.getDay()>9?t.getDay():"0"+t.getDay(),s=t.getMonth()>9?t.getMonth():"0"+t.getMonth(),c=t.getFullYear(),i=t.getHours(),a="0"+t.getMinutes();return s+"/"+n+"/"+c+" "+i+":"+a.substr(-2)},loadMyMessages:function(){var e=this;this.messagesReady=!1,window.contract.myMessages().then((function(t){e.messages=[],Object.keys(t).forEach((function(n){e.messages.unshift(t[n])})),e.messagesReady=!0}))},santaSay:function(){var e=this;this.isPing=!0,window.contract.santaSay().then((function(t){e.santaSayList.push(t),e.isPing=!1}))}}};n("8a45");const Oe=y()(je,[["render",ge]]);var pe=Oe,he={name:"App",computed:{user:function(){return window.currentUser}},components:{SignIn:w,NftList:pe}};n("d7f3");const ye=y()(he,[["render",b]]);var me=ye,we=n("db49"),ve=n.n(we),ke=n("d9eb");function Me(){return Se.apply(this,arguments)}function Se(){return Se=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,c,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=ve()("production"),e.next=3,ke["connect"](Object(s["a"])({deps:{keyStore:new ke["keyStores"].BrowserLocalStorageKeyStore(window.localStorage,"santa-")}},t));case 3:if(n=e.sent,c=new ke["WalletConnection"](n),console.log(c),!c.getAccountId()){e.next=12;break}return e.t0=c.getAccountId(),e.next=10,c.account().state();case 10:e.t1=e.sent.amount,i={accountId:e.t0,balance:e.t1};case 12:return e.next=14,new ke["Contract"](c.account(),t.contractName,{viewMethods:["allMessages"],changeMethods:["addMessage","myMessages","myGift","addGift","myGiftHistory","santaSay"],sender:c.getAccountId()});case 14:return a=e.sent,e.abrupt("return",{contract:a,currentUser:i,nearConfig:t,walletConnection:c});case 16:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}Me().then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.contract=t.contract,window.currentUser=t.currentUser,window.nearConfig=t.nearConfig,window.wallet=t.walletConnection,n=Object(i["b"])(me),n.mount("#app");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},"7bc9":function(e,t,n){},"8a45":function(e,t,n){"use strict";n("126f")},9841:function(e,t,n){"use strict";n("7bc9")},d7f3:function(e,t,n){"use strict";n("ef15")},db49:function(e,t){var n=Object({NODE_ENV:"production",BASE_URL:"/nearstmas/"}).CONTRACT_NAME||"santa.vlodkow2.testnet";function s(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}e.exports=s},ef15:function(e,t,n){}});
//# sourceMappingURL=app.fca5825e.js.map